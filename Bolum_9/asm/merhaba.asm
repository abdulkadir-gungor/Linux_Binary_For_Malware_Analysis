; #############################################
; # +---------------------------------------+ #
; # | Ekrana "Merhaba Dünya" yazısı yazar!  | #
; # |                                       | #
; # |      Abdulkadir GÜNGÖR (2021)         | #
; # +---------------------------------------+ #
; #############################################


; # .data bölümü
section .data
    mesaj db  16,"Merhaba D",0xc3,0xbc,"nya!", 0x0A

; #.text bölümü
section .text
    global _start

    _start:
        ; ssize_t write(int fd, const void *buf, size_t count)
        ; RAX=1 sistem cagri kodu
        ; RDI ilk girdi => RDI = (int fd) stdout=1
        ; RSI ikinci girdi => RSI = const void *buf
        ; RDX ucuncu girdi => RDI = size_t count
        mov rax, 1
        mov rdi, 1
        mov rsi, mesaj
        inc rsi
        movsx rdx, byte[mesaj]
        syscall

        ;void exit(int status)
        ; RAX=60 sistem cagri kodu
        ; RDI ilk girdi => RDI = 0  program basari ile sonlandi (hatasiz sonlandi)
        mov rax, 60 ; cagri kodu 60 
        mov rdi, 0   ; donus (return) 0
        syscall